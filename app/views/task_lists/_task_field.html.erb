<div class="task-field bg-blue-50 rounded-lg p-4 mb-4 border border-blue-200 hidden">
  <div class="flex justify-end items-start mb-3">
    <button type="button" 
            class="text-red-600 hover:text-red-800 text-sm font-medium" 
            data-action="click->nested-tasks#removeTask">
      Remove
    </button>
  </div>
  
  <div class="space-y-3">
    <%= task_fields.label :title, "Title", class: "block font-medium mb-1 text-gray-700" %>
    <%= task_fields.text_field :title, 
        required: false, 
        minlength: 3, 
        maxlength: 100, 
        class: "w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",
        placeholder: "Enter task title..." %>
    <% if task_fields.object.errors[:title].any? %>
      <div class="text-red-600 text-sm mt-1"><%= task_fields.object.errors[:title].join(', ') %></div>
    <% end %>

    <%= task_fields.label :description, "Description", class: "block font-medium mb-1 text-gray-700" %>
    <%= task_fields.text_area :description, 
        rows: 2,
        class: "w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",
        placeholder: "Optional description..." %>
    <% if task_fields.object.errors[:description].any? %>
      <div class="text-red-600 text-sm mt-1"><%= task_fields.object.errors[:description].join(', ') %></div>
    <% end %>

    <div class="flex items-center space-x-4">
      <div class="flex-1">
        <%= task_fields.label :priority, "Priority", class: "block font-medium mb-1 text-gray-700" %>
        <%= task_fields.select :priority, 
            options_for_select(task_priority_options, task_fields.object.priority_before_type_cast),
            { prompt: "Select priority" },
            class: "w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors" %>
        <% if task_fields.object.errors[:priority].any? %>
          <div class="text-red-600 text-sm mt-1"><%= task_fields.object.errors[:priority].join(', ') %></div>
        <% end %>
      </div>
    </div>
  </div>
</div> 